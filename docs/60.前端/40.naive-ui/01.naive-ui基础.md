---
title: navie-ui基础
date: 2022-11-18 16:45:00
permalink: /front/navie/159dec/
categories:
  - 前端
  - navie-ui
tags:
  - naive-ui
  - 基础
---

## 前言

`naive-ui`的样式深得我心，开始尝试顺手记录

<!-- more -->

## 栅格 -- `grid`

[栅格`Grid`](https://www.naiveui.com/zh-CN/os-theme/components/grid)

### 栅格如何使内容其居中

``` vue
<n-grid :cols="4" item-style="justify-self:center;">
  <n-gi>
    1
  </n-gi>
  <n-gi>
    2
  </n-gi>
  <n-gi>
    3
  </n-gi>
  <n-gi>
    4
  </n-gi>
</n-grid>
```

## 数据表格 -- `Data Table`

[表格`Table`](https://www.naiveui.com/zh-CN/os-theme/components/table)

[数据表格`Data Table`](https://www.naiveui.com/zh-CN/os-theme/components/data-table)

### 如何将异步数据塞入到表格中

在`<n-data-table>`中添加属性`data`，将上游返回的值放入到`data`中即可

``` html
<n-data-table
      remote
      ref="table"
      :data="data">
</n-data-table>

<script setup>
  // 表格头部
  var columns = [
    {
      title: "第一列",
      key: "test1",
    },
    {
      title: "第二列",
      key: "test2",
    },
  ];
  var data = ref([]);
  proxy
    .$http({
      method: "POST",
      url: "/api/general/getOrders",
      params: formValue.value,
    })
    .then((response) => {
      var responseData = response.data;
      if (responseData.state !== "ok") {
        // 返回错误信息
        return;
      } else {
        data.value = responseData.data.list;
      }
    });
</script>
```

> 关于`proxy`请求的写法参考[Vue3+Vite全局使用axios，解决axios跨域问题](https://xingcxb.com/front/vue/ba496f/#vue3-vite%E5%85%A8%E5%B1%80%E4%BD%BF%E7%94%A8axios-%E8%A7%A3%E5%86%B3axios%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98)



## 信息 `Message`

[信息`Message`](https://www.naiveui.com/zh-CN/os-theme/components/message)

### 如何使用`Naive-ui`的`Message`

第一次使用的时候出现一丢丢问题，我在`<script setup>...</script>`中直接声明`const message = useMessage();`然后使用，结果提示

``` log
Uncaught (in promise) Error: [naive/use-message]: No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A.
```

此刻为止，小白的我还是不知道是啥原因，就我初学者的想法就是，我在当前的`vue`文件中引入了这个组件并完成了初始化后，那么我就可以使用它，结果我果然是初学者的思维😂。于是搜了搜，看到作者针对这个组件的回答:[naive-ui/issues](https://github.com/tusen-ai/naive-ui/issues/225)，看了半天还是不明觉厉。于是我决定采用大家的操作方案是采用全局挂载来完成，反正到处都要用，问题也不大。

#### 干货

1. 创建一个自定义组件用来挂载全局方法，名字不重要；我的是`Message.vue`

  ``` html
    <template>
      <div></div>
    </template>

    <script setup>
    import { useDialog, useMessage } from "naive-ui";

    window.$message = useMessage();
    window.$dialog = useDialog();
    </script>
  ```

2. 修改`App.vue`文件，在底部添加以下代码

  ``` html
  <template>
    ...
    <n-message-provider>
      <n-dialog-provider>
        <Message />
      </n-dialog-provider>
    </n-message-provider>
  </template>
  <script setup>
    import { NMessageProvider, NDialogProvider } from "naive-ui";
    ...
  </script>
  ```

3. 使用，直接在要使用消息的文件中写入下面代码

  ``` javascript
    window.$message.error("123");
  ```

## 布局 -- `Layout`

### 使用`Layout`布局时`content`过长出现的滚动条导致整个页面被拖动

解决方案：给`content`加上一个高度即可